(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{iQ:()=>c,gI:()=>s,oS:()=>d,vl:()=>n});let n=null;const o=document.querySelector("[data-project-tasks]");class c{constructor(e,t,n,o,c,s){this.id=e,this.description=t,this.dueDate=n,this.priority=o,this.projectId=c,this.projectName=s}}function s(){const e=document.getElementById("taskForm"),t=document.querySelector("#taskDescription"),n=document.querySelector("#taskDueDate"),o=document.querySelector("#priorityLevel"),s=document.getElementById("taskProject");e.addEventListener("submit",(e=>{if(e.preventDefault(),null==t||""===t)return;let a=Date.now().toString();const r=new c(a,t.value,n.value,o.value,s.value,s.options[s.selectedIndex].id);u.find((e=>e.id===s.value)).projectTasks.push(r),document.getElementById("taskForm").reset(),d()}))}function d(){const e=u.find((e=>e.id===r));document.querySelector(".user-tasks").textContent="",console.log(e),console.log(r),null==r||"1"==r?u.forEach((e=>{e.projectTasks.forEach(((e,t)=>{a(e,t)}))})):e.projectTasks.forEach(((e,t)=>{a(e,t)})),console.log(u),console.log(r),document.querySelectorAll(".remove-task-btn").forEach((e=>{e.addEventListener("click",(t=>{const n=t.target.dataset.taskProjectId;console.log(n),u.find((e=>e.id===n)).projectTasks.splice(e.getAttribute("data"),1),d()}))}))}function a(e,t){const o=document.querySelector(".user-tasks"),c=document.createElement("div");c.classList.add("user-task"),c.dataset.taskId=e.id;const s=document.createElement("p");s.classList.add("project-title"),s.innerText=`${e.description}`,c.append(s);const d=document.createElement("p");d.classList.add("task-date"),d.innerText=`${e.dueDate}`,c.append(d);const a=document.createElement("p");a.classList.add("task-priority"),a.innerText=`${e.priority}`,c.append(a);const r=document.createElement("p");r.classList.add("project-folder"),r.innerText=`${e.projectName}`,c.append(r);const l=document.createElement("div");l.classList.add("task-btns"),c.append(l);const i=document.createElement("img");i.setAttribute("data",t),i.classList.add("edit-task-btn"),i.src="./images/edit-button.svg",l.appendChild(i);const u=document.createElement("img");u.setAttribute("data",t),u.dataset.taskProjectId=e.projectId,u.classList.add("remove-task-btn"),u.src="./images/trash-can.svg",l.appendChild(u),e.id===n&&c.classList.add("selected-task"),o.append(c)}o.addEventListener("click",(e=>{n=e.target.dataset.taskId,d(),console.log(n)}));let r=null;const l=document.querySelector("[data-user-projects]"),i=document.querySelector(".all-tasks");let u=[];class m{constructor(e,t){this.id=e,this.projectTitle=t,this.projectTasks=[]}}function p(){const e=document.getElementById("taskProject");l.textContent="",e.textContent="",u.forEach(((e,t)=>{!function(e,t){const n=document.querySelector("[data-user-projects]"),o=document.createElement("div");o.classList.add("user-project"),o.setAttribute("id",`${e.projectTitle}`),o.dataset.projectId=e.id;const c=document.createElement("p");c.classList.add("project-title"),c.innerText=e.projectTitle,o.append(c);const s=document.createElement("img");s.setAttribute("data",t),s.classList.add("remove-project-btn"),s.src="./images/trash-can.svg",o.appendChild(s),e.id===r&&o.classList.add("selected"),n.append(o)}(e,t)})),u.forEach((t=>{let n=document.createElement("option");n.value=t.id,n.innerText=t.projectTitle,n.id=t.projectTitle,e.appendChild(n)})),console.log(u),document.querySelectorAll(".remove-project-btn").forEach((e=>{e.addEventListener("click",(()=>{u.splice(e.getAttribute("data"),1),p(),d()}))})),console.log(t.userAddedTasks)}if(l.addEventListener("click",(e=>{"div"===e.target.tagName.toLowerCase()&&(r=e.target.dataset.projectId,i.classList.remove("selected"),console.log(r),p(),d())})),i.addEventListener("click",(e=>{r="1",i.classList.add("selected"),p(),d(),console.log(r)})),""==u){const e=new m("2","Default");u.push(e);const t=new c("3","Add a project to get started","Now","High","2","Default"),n=u.find((e=>"2"===e.id));n.projectTasks.push(t),p(),d()}!function(){const e=document.getElementById("newProjectBtn"),t=document.getElementById("project-submit-btn"),n=document.getElementById("project-cancel-btn");e.addEventListener("click",(()=>{document.getElementById("projectForm").style.display="block",document.getElementById("newProjectBtn").style.display="none",document.getElementById("projectInput").focus()})),t.addEventListener("click",(()=>{document.getElementById("projectForm").style.display="none",document.getElementById("newProjectBtn").style.display="block"})),n.addEventListener("click",(()=>{document.getElementById("projectForm").style.display="none",document.getElementById("newProjectBtn").style.display="block",document.getElementById("projectForm").reset()}))}(),function(){const e=document.getElementById("taskFormDispBtn"),t=document.getElementById("task-submit-btn"),n=document.getElementById("task-cancel-btn"),o=document.querySelector(".modal"),c=document.querySelector(".overlay"),s=()=>{o.classList.remove("active"),c.classList.remove("active")};e.onclick=()=>{o.classList.add("active"),c.classList.add("active"),document.getElementById("taskDescription").focus()},t.onclick=s,c.onclick=s,n.addEventListener("click",(()=>{s(),document.getElementById("taskForm").reset()}))}(),function(){const e=document.querySelector("[data-new-project-form]"),t=document.querySelector("[data-new-project-input]");e.addEventListener("submit",(e=>{if(e.preventDefault(),null==t||""===t)return;let n=Date.now().toString();const o=new m(n,t.value);t.value=null,u.push(o),p()}))}(),s()})();