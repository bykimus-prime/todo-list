(()=>{"use strict";let e=null;const t=document.querySelector("[data-user-projects]");let n=[];class c{constructor(e,t){this.id=e,this.projectTitle=t,this.projectTasks=[]}}function o(){const c=document.getElementById("taskProject");t.textContent="",c.textContent="",function(){const e=document.getElementById("taskProject"),t=document.createElement("option");t.value="Home",t.textContent="Home",t.setAttribute("selected","true"),e.appendChild(t)}(),n.forEach(((t,n)=>{!function(t,n){const c=document.querySelector("[data-user-projects]"),o=document.createElement("div");o.classList.add("user-project"),o.setAttribute("id",`${t.projectTitle}`),o.dataset.projectId=t.id;const d=document.createElement("p");d.classList.add("project-title"),d.innerText=t.projectTitle,o.append(d);const s=document.createElement("button");s.setAttribute("data",n),s.classList.add("remove-project-btn"),s.textContent="Delete",o.appendChild(s),t.id===e&&o.classList.add("selected"),c.append(o)}(t,n)})),n.forEach((e=>{let t=document.createElement("option");t.value=e.id,t.innerText=e.projectTitle,t.id=e.projectTitle,c.appendChild(t)})),console.log(n),document.querySelectorAll(".remove-project-btn").forEach((e=>{e.addEventListener("click",(()=>{n.splice(e.getAttribute("data"),1),o()}))}))}t.addEventListener("click",(t=>{"div"===t.target.tagName.toLowerCase()&&(e=t.target.dataset.projectId,o())})),document.querySelector("[data-project-tasks]");let d=[];class s{constructor(e,t,n,c,o){this.description=e,this.dueDate=t,this.priority=n,this.projectId=c,this.projectName=o}}function r(){document.querySelector(".user-tasks").textContent="",d.forEach(((e,t)=>{!function(e,t){const n=document.querySelector(".user-tasks"),c=document.createElement("div");c.classList.add("user-task");const o=document.createElement("p");o.classList.add("project-title"),o.innerText=`${e.description}`,c.append(o);const d=document.createElement("p");d.classList.add("task-date"),d.innerText=`${e.dueDate}`,c.append(d);const s=document.createElement("p");s.classList.add("task-priority"),s.innerText=`${e.priority}`,c.append(s);const r=document.createElement("p");r.classList.add("project-folder"),r.innerText=`${e.projectName}`,c.append(r);const l=document.createElement("button");l.setAttribute("data",t),l.classList.add("remove-task-btn"),l.textContent="Delete",c.appendChild(l),n.append(c)}(e,t)})),console.log(d),console.log(n),document.querySelectorAll(".remove-task-btn").forEach((e=>{e.addEventListener("click",(()=>{d.splice(e.getAttribute("data"),1),r()}))}))}!function(){const e=document.getElementById("newProjectBtn"),t=document.getElementById("project-submit-btn"),n=document.getElementById("project-cancel-btn");e.addEventListener("click",(()=>{document.getElementById("projectForm").style.display="block",document.getElementById("newProjectBtn").style.display="none",document.getElementById("projectInput").focus()})),t.addEventListener("click",(()=>{document.getElementById("projectForm").style.display="none",document.getElementById("newProjectBtn").style.display="block"})),n.addEventListener("click",(()=>{document.getElementById("projectForm").style.display="none",document.getElementById("newProjectBtn").style.display="block",document.getElementById("projectForm").reset()}))}(),function(){const e=document.getElementById("taskFormDispBtn"),t=document.getElementById("task-submit-btn"),n=document.getElementById("task-cancel-btn"),c=document.querySelector(".modal"),o=document.querySelector(".overlay"),d=()=>{c.classList.remove("active"),o.classList.remove("active")};e.onclick=()=>{c.classList.add("active"),o.classList.add("active"),document.getElementById("taskDescription").focus()},t.onclick=d,o.onclick=d,n.addEventListener("click",(()=>{d(),document.getElementById("taskForm").reset()}))}(),function(){const e=document.querySelector("[data-new-project-form]"),t=document.querySelector("[data-new-project-input]");e.addEventListener("submit",(e=>{if(e.preventDefault(),null==t||""===t)return;let d=Date.now().toString();const s=new c(d,t.value);t.value=null,n.push(s),o()}))}(),function(){const e=document.getElementById("taskForm"),t=document.querySelector("#taskDescription"),n=document.querySelector("#taskDueDate"),c=document.querySelector("#priorityLevel"),o=document.getElementById("taskProject");e.addEventListener("submit",(e=>{if(e.preventDefault(),null==t||""===t)return;const l=new s(t.value,n.value,c.value,o.value,o.options[o.selectedIndex].id);d.push(l),document.getElementById("taskForm").reset(),r()}))}()})();