(()=>{"use strict";let e=null;const t=document.querySelector("[data-project-tasks]");let n=[];class c{constructor(e,t,n,c,s,o){this.id=e,this.description=t,this.dueDate=n,this.priority=c,this.projectId=s,this.projectName=o}}function s(){const e=r.find((e=>e.id===d));document.querySelector(".user-tasks").textContent="",console.log(e),console.log(d),null==d||"1"==d?n.forEach(((e,t)=>{o(e,t)})):e.projectTasks.forEach(((e,t)=>{o(e,t)})),console.log(r),console.log(d),document.querySelectorAll(".remove-task-btn").forEach((e=>{e.addEventListener("click",(()=>{n.splice(e.getAttribute("data"),1),s()}))}))}function o(t,n){const c=document.querySelector(".user-tasks"),s=document.createElement("div");s.classList.add("user-task"),s.dataset.taskId=t.id;const o=document.createElement("p");o.classList.add("project-title"),o.innerText=`${t.description}`,s.append(o);const d=document.createElement("p");d.classList.add("task-date"),d.innerText=`${t.dueDate}`,s.append(d);const a=document.createElement("p");a.classList.add("task-priority"),a.innerText=`${t.priority}`,s.append(a);const l=document.createElement("p");l.classList.add("project-folder"),l.innerText=`${t.projectName}`,s.append(l);const r=document.createElement("div");r.classList.add("task-btns"),s.append(r);const i=document.createElement("img");i.setAttribute("data",n),i.classList.add("edit-task-btn"),i.src="./images/edit-button.svg",r.appendChild(i);const u=document.createElement("img");u.setAttribute("data",n),u.classList.add("remove-task-btn"),u.src="./images/trash-can.svg",r.appendChild(u),t.id===e&&s.classList.add("selected-task"),c.append(s)}t.addEventListener("click",(t=>{e=t.target.dataset.taskId,s(),console.log(e)}));let d=null;const a=document.querySelector("[data-user-projects]"),l=document.querySelector(".all-tasks");let r=[];class i{constructor(e,t){this.id=e,this.projectTitle=t,this.projectTasks=[]}}function u(){const e=document.getElementById("taskProject");a.textContent="",e.textContent="",function(){const e=document.getElementById("taskProject"),t=document.createElement("option");t.value="1",t.setAttribute("id","All Tasks"),t.textContent="All Tasks",t.setAttribute("selected","true"),e.appendChild(t)}(),r.forEach(((e,t)=>{!function(e,t){const n=document.querySelector("[data-user-projects]"),c=document.createElement("div");c.classList.add("user-project"),c.setAttribute("id",`${e.projectTitle}`),c.dataset.projectId=e.id;const s=document.createElement("p");s.classList.add("project-title"),s.innerText=e.projectTitle,c.append(s);const o=document.createElement("img");o.setAttribute("data",t),o.classList.add("remove-project-btn"),o.src="./images/trash-can.svg",c.appendChild(o),e.id===d&&c.classList.add("selected"),n.append(c)}(e,t)})),r.forEach((t=>{let n=document.createElement("option");n.value=t.id,n.innerText=t.projectTitle,n.id=t.projectTitle,e.appendChild(n)})),console.log(r),document.querySelectorAll(".remove-project-btn").forEach((e=>{e.addEventListener("click",(()=>{r.splice(e.getAttribute("data"),1),u()}))})),console.log(n)}a.addEventListener("click",(e=>{"div"===e.target.tagName.toLowerCase()&&(d=e.target.dataset.projectId,l.classList.remove("selected"),console.log(d),u(),s())})),l.addEventListener("click",(e=>{d="1",l.classList.add("selected"),u(),s(),console.log(d)})),function(){const e=document.getElementById("newProjectBtn"),t=document.getElementById("project-submit-btn"),n=document.getElementById("project-cancel-btn");e.addEventListener("click",(()=>{document.getElementById("projectForm").style.display="block",document.getElementById("newProjectBtn").style.display="none",document.getElementById("projectInput").focus()})),t.addEventListener("click",(()=>{document.getElementById("projectForm").style.display="none",document.getElementById("newProjectBtn").style.display="block"})),n.addEventListener("click",(()=>{document.getElementById("projectForm").style.display="none",document.getElementById("newProjectBtn").style.display="block",document.getElementById("projectForm").reset()}))}(),function(){const e=document.getElementById("taskFormDispBtn"),t=document.getElementById("task-submit-btn"),n=document.getElementById("task-cancel-btn"),c=document.querySelector(".modal"),s=document.querySelector(".overlay"),o=()=>{c.classList.remove("active"),s.classList.remove("active")};e.onclick=()=>{c.classList.add("active"),s.classList.add("active"),document.getElementById("taskDescription").focus()},t.onclick=o,s.onclick=o,n.addEventListener("click",(()=>{o(),document.getElementById("taskForm").reset()}))}(),document.getElementById("hamburgerMenu").addEventListener("click",(()=>{switch(document.getElementById("navbar").style.display="none"){case document.getElementById("navbar").style.display="none":document.getElementById("navbar").style.display="block";break;case document.getElementById("navbar").style.display="block":document.getElementById("navbar").style.display="none"}})),function(){const e=document.querySelector("[data-new-project-form]"),t=document.querySelector("[data-new-project-input]");e.addEventListener("submit",(e=>{if(e.preventDefault(),null==t||""===t)return;let n=Date.now().toString();const c=new i(n,t.value);t.value=null,r.push(c),u()}))}(),function(){const e=document.getElementById("taskForm"),t=document.querySelector("#taskDescription"),o=document.querySelector("#taskDueDate"),d=document.querySelector("#priorityLevel"),a=document.getElementById("taskProject");e.addEventListener("submit",(e=>{if(e.preventDefault(),null==t||""===t)return;let l=Date.now().toString();if(null==a.value||"1"==a.value){const e=new c(l,t.value,o.value,d.value,a.value,"All Tasks");n.push(e)}else{const e=new c(l,t.value,o.value,d.value,a.value,a.options[a.selectedIndex].id);r.find((e=>e.id===a.value)).projectTasks.push(e),n.push(e)}document.getElementById("taskForm").reset(),s()}))}()})();